{% extends 'menu.html' %}
{% load static %}
{% block content %}
<style>



  table {
  
    border: 1px solid #cacaca;
  border-collapse: collapse;
  text-align: left;
  width: 100%;
  align-items: center;
  font-family: 'Open Sans', sans-serif;
  }
  
  table thead th {
  
  padding: 10px;
  font-size: 12px;
  color: #000;
  font-weight: 600;
  }
  
  table tbody tr td {
  
  display: table-cell;
  font-weight: 400;
  padding: 10px;
  text-align: left;
  position: relative;
  }

  
  
  table tbody tr {
  
  border: 1px solid #cacaca;
  display: table-row;
  }
  
  table tbody tr:nth-child(odd) {
  
  background: #dddddd4a;
  }
  
  table tbody tr td button {
  
  display: inline-block;
  padding: 10px 15px;
  position: initial;
  transform: translate(0);
  width: auto;
  }
  
  table tbody tr td button {
  
  background: #4CAF50;
  border: none;
  border-radius: 20px;
  box-shadow: 0 4px 8px rgba(34, 34, 34, 0.2);
  color: #fff;
  font-weight: 700;;
  padding: 10px 0;
  width: 100%;
  }
  
  table thead {
  
  display: table-header-group;
  font-weight: 500;
  }
  
  table tbody tr:hover {
    background-color: #7e7e7e8d; /* Cor de fundo quando o mouse passa por cima */
    cursor: pointer; /* Altera o cursor para indicar que é clicável */
}
  
  table tbody tr td:before {
  
  display: none;
  }
  
  table tbody tr td button:hover, table tbody tr td button:focus {
  
  background: #0C504B;
  color: #ffffff;
  cursor: pointer;
  }
  
  @media all and (max-width: 800px) {
  
  table tbody tr td {
  
      display: block;
      text-align: center;
  }
  
  table tbody tr td:before {
  
      content: attr(data-title);
      position: absolute;
      left: 15px;
      display: block;
      font-weight: 600;
      font-size: 1em;
  }
  
  table {
  
      border: none;
  }
  
  table thead {
  
      display: none;
  }
  
  table tbody tr {
  
      margin-bottom: 10px;
      display: block;
      border: 1px solid #dad6eb;
  }
  
  
  }

  .modal-dialog-full {
    width: 100%;
    max-width: none;
    height: 100%;
    margin: 0;
  }
  
  .modal-content-full {
    height: 100%;
    border: 0;
    border-radius: 0;
  }
  
  .modal-body-full {
    overflow-y: auto;
  }
 

  
  </style>
   <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">

       
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
<section class="content">
    <div class="container-fluid">
    
      

          
      <div class="card">
        <div class="modal-header">
            <h5 class="modal-title">
              {% if solicitacao.evento_json.titulo_evento %}
                {{solicitacao.evento_json.titulo_evento}}
              {% else %}
              
                {% if solicitacao.evento_json.tipo_formatado == None %}
                  Não Informado
                {% else %}
                  {{solicitacao.evento_json.tipo_formatado}}
                {% endif %}
                  
              {% endif %}
 
</h5>
{% if '10' in permissoes.permissao %}
<a onclick="editarSolicitacaoModal('{{solicitacao.id}}')"  id="editar_solicitacao"  style=" width: 20%;" class="btn bg-dark">
                                        
  <i class="fas fa-pencil"></i> <B>Editar Solicitação</B>
</a>
{% endif %}
          </div>
        <!-- /.card-header -->
        <div class="card">
          {% if messages %}
          {% for message in messages%}
          <div {% if message.tags %} class="{{ message.tags }}"{% endif %} style="text-align: center;" role="alert">
          {{message}}
          </div>
          {% endfor %}
          {% endif  %}
          <!-- /.card-header -->
          
          <div class="card-body">
            <div class="form-group">
              <div class="row">
                <div class="col-lg-2 col-12">

                    <div class="small-box" style="background-color: #ffffff; color: #000000">
                      <div class="inner" style="text-align: center;">
                        <h4>{{ solicitacao.get_projeto_display }}</h4>
                     
                      </div>
                   
                      <div style="background-color: #000000;color: #FFF; cursor: pointer;" class="small-box-footer">PROJETO</div>
                    </div>
                 
                  </div>
            
                  <div class="col-lg-2 col-12">
            
                    <div class="small-box" style="background-color: #ffffff; color: #000000">
                      <div class="inner" style="text-align: center;">
                        <h4>{{ solicitacao.data_solicitacao|date:'d/m/Y' }}</h4>
                      </div>
                   
                      <div style="background-color: #000000;color: #FFF;" class="small-box-footer">DATA DA SOLICITAÇÃO</div>
                    </div>
                 
                  </div>

                  <div class="col-lg-2 col-12">
            
                    <div class="small-box" style="background-color: #ffffff; color: #000000">
                      <div class="inner" style="text-align: center;">
                        <h4>{% if solicitacao.prazo_entrega%}{{ solicitacao.prazo_entrega|date:'d/m/Y' }} {% else %} N/A {% endif %}</h4>
                      </div>
                   
                      <div style="background-color: #000000;color: #FFF;" class="small-box-footer">PRAZO DE ENTREGA</div>
                    </div>
                 
                  </div>
            
                  <div class="col-lg-6 col-12">
            
                    <div class="small-box" style="background-color: #ffffff; color: #000000">
                      <div class="inner" style="text-align: center;">
                        <h4>{{ solicitacao.criado_por.first_name }}</h4>
                      </div>
                   
                      <div style="background-color: #000000;color: #FFF;" class="small-box-footer">SOLICITANTE</div>
                    </div>
                 
                  </div>

                  <div class="col-12 col-sm-12 col-md-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-header" style="background-color: #fafafa;">
                          <label for="">Informações do Evento</label>
                          
                        </div>
                          
                        <div class="card-body">
                         <div class="row">
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Evento:</label>
                                <div class="input-group">
                                  {% if solicitacao.evento_json.titulo_evento %}
                                    {{solicitacao.evento_json.titulo_evento}}
                                  {% else %}
                                  
                                    {% if solicitacao.evento_json.tipo_formatado == None %}
                                      Não Informado
                                    {% else %}
                                      {{solicitacao.evento_json.tipo_formatado}}
                                    {% endif %}
                                      
                                  {% endif %}
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
            
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Data de Início: </label>
                                <div class="input-group">
                                {% if solicitacao.evento_json.titulo_evento %}
                                  {{solicitacao.evento_json.data_inicio}}
                                {% else %}
                                
                                {% if solicitacao.evento_json.data_inicio_formatada == None%}
                                  Não Informado
                                {% else %}
                                 {{solicitacao.evento_json.data_inicio_formatada}}
                                {% endif %}
                                    
                                {% endif %}

                                 
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
            
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Data Final:</label>
                                <div class="input-group">
                                  {% if solicitacao.evento_json.titulo_evento %}
                                  {{solicitacao.evento_json.data_fim}}
                                {% else %}
                                
                                {% if solicitacao.evento_json.data_fim_formatada == None%}
                                  Não Informado
                                {% else %}
                                  {{solicitacao.evento_json.data_fim_formatada}}
                                {% endif %}
                                    
                                {% endif %}

                                 
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
                          {% if solicitacao.publico_evento %}
                          <div class="col-lg-3 col-4">
                            <div class="form-group">
                                <label>Público do Evento:</label>
                                <div class="input-group">
                                  {{solicitacao.publico_evento}}
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
                          {% endif %}


                          {% if solicitacao.evento_json.endereco %}
                          <div class="col-lg-3 col-3">
                            <div class="form-group">
                                <label>Unidade:</label>
                                <div class="input-group">
            
                                  {{escola.nome}}
                    
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>

                          <div class="col-lg-9 col-9">
                            <div class="form-group">
                                <label>Endereço:</label>
                                <div class="input-group">
            
                                  {{solicitacao.evento_json.endereco}}
                    
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
                          {% else %}
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Logradouro:</label>
                                <div class="input-group">
                                  {% if solicitacao.evento_json.logradouro == None %}
                                  Não Informado
                                  {% else %}
                                  {{solicitacao.evento_json.logradouro}}
                                  {% endif %}
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
            
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Bairro:</label>
                                <div class="input-group">
                                  {% if solicitacao.evento_json.bairro == None %}
                                  Não Informado
                                  {% else %}
                                  {{solicitacao.evento_json.bairro}}
                                  {% endif %}
                                  
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
            
                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Complemento:</label>
                                <div class="input-group">
                                 {% if solicitacao.evento_json.complemento == None %}
                                 Não Informado
                                 {% else %}
                                 {{solicitacao.evento_json.complemento}}
                                 {% endif %}
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>

                          <div class="col-lg-3 col-12">
                            <div class="form-group">
                                <label>Cidade:</label>
                                <div class="input-group">
                                 {% if solicitacao.evento_json.CIDADE == None %}
                                 Não Informado
                                 {% else %}
                                 {{solicitacao.evento_json.cidade}}
                                 {% endif %}
                              
                                </div>
                                <!-- /.input group -->
                            </div>
                          </div>
                          {% endif %}
                      
                          {% if programacao_adicional %}
                          <div class="col-12 col-sm-12 col-md-12">
                            <div class="card" style="width: 100%;">
                                <div class="card-header" style="background-color: #fafafa;">
                                  <label for="">Programação do Evento</label>
                                  
                                </div>
                                  
                                <div class="card-body">
                                 <div class="row">
                                    <table style="margin-top: 10px;">
                                        <thead>
                                          <tr>
                                            <th>Data</th>
                                            <th>Hora</th>
                                            <th>Hora Final</th>
                                            <th>Atividade</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                
                                            {% for programacao in programacao_adicional %}
                                            <tr>
                                                <td>{{programacao.data|date:'d/m/Y'}}</td>
                                                <td>{{programacao.hora}}</td>
                                                <td>{{programacao.hora_final}}</td>
                                                <td>{{programacao.atividade}}</td>
                                            {% endfor %}
                                            </tr>
                                        </tbody>
                                    </table>
                                 </div>
                                </div>
                            </div>
                          </div>
                          {% endif %}
                          
                          {% if solicitacao.briefing %}
                          <div class="col-12 col-sm-12 col-md-12">
                            <div class="card" style="width: 100%;">
                                <div class="card-header" style="background-color: #fafafa;">
                                  <label for="">Briefing</label>
                                </div>
                                  
                                <div class="card-body">
                                 <div class="row">
                                  <span>{{solicitacao.briefing|safe}}</span>
                                 </div>
                                </div>
                            </div>
                          </div>
                          {% endif %}

                          {% if solicitacao.arquivos %}
                          <div class="col-12 col-sm-12 col-md-12" >
                            <div class="card" style="width: 100%;">
                                <div class="card-header" style="background-color: #fafafa;">
                                  <label for="">Arquivos da Solicitação</label>
                                  <small>
                                    <button type="button" data-toggle="modal" data-target="#editarArquivos"  style="float: right; font-size: 10px;" class="btn bg-danger">
      
                                      <i class="fas fa-file"></i> <B> ALTERAR ARQUIVOS</B>
                                    </button>
         
                                  </small>
                                </div>
                                  
                                <div class="card-body gerenciador_de_arquivos_solicitacao " >
                                 <div class="row">
                                  {% for arquivo in arquivos %}
                                  <a href="{{arquivo}}" class="btn btn-app">
                                    <i class="fas fa-file"></i> {{ arquivo|cut:"/media/" }}
                                  </a>
                                  {% endfor %}
                                 </div>
                                </div>
                            </div>
                          </div>
                          {% endif %}
                          
                          
                   
                          <div class="col-12 col-sm-12 col-md-12">
                            <div class="card" style="width: 100%;">
                                <div class="card-header" style="background-color: #fafafa;">
                                  <label for="">Demandas Solicitadas</label>
                                  <small>
                                    <button type="button" data-toggle="modal" data-target="#addEntregavelModal"  style="float: right; font-size: 10px;" class="btn bg-warning">
      
                                      <i class="fas fa-plus"></i> <B>ADD ENTREGÁVEIS</B>
                                    </button>
         
                                  </small>
                                </div>
                                  
                                <div class="card-body">
                                 <div class="row">
                                  {% for entregavel in entregaveis %}
                                    <div class="col-12 col-sm-12 col-md-12">
                                        <div id="accordion">
                                            <div {% if entregavel.status == "0" or entregavel.status == "2" %} class="card card-warning" {% elif entregavel.status == "1" %} class="card card-dark" {% elif entregavel.status == "3" or entregavel.status == "6" or entregavel.status == "5"  %} class="card card-danger" {% else %} class="card card-success" {% endif %}>
                                                <div class="card-header">
                                                    <h4 class="card-title w-100">
                                                        <a style=" font-size: 20px;" class="d-block w-100" data-toggle="collapse" href="#collapse{{ forloop.counter }}" aria-expanded="true">
                                                           #{{entregavel.id}} {{entregavel.get_tipoentregavel_display}} - <b>{% if entregavel.outros %} {{entregavel.outros}} {%  else %} {{entregavel.categoria_produto}} {% endif %} </b> - PRAZO ATÉ (<b>{{entregavel.prazo|date:'d/m/Y'}}</b>) - {{entregavel.get_status_display}}
                                                       {% if entregavel.status == '4' %}
                                                       <span style="float: right; font-size: 20px;" class="bi bi-check2-circle"></span>
                                                       {% elif entregavel.status == '3' %}
                                                       <span style="float: right; font-size: 20px;" class="bi bi-arrow-repeat"></span>
                                                       {% elif entregavel.status == '6' %}
                                                       <span style="float: right; font-size: 20px;" class="bi bi-x-circle-fill"></span>
                                                       {% elif entregavel.status == '5' %}
                                                       <span onclick="editarEntregavelModal('{{entregavel.id}}')" style="float: right; font-size: 20px;" class="bi bi-pencil-square"> Editar</span>
                                   
                                                       {% else %}
                                                       <span style="float: right; font-size: 20px;" class="bi bi-hourglass-bottom"></span>
                      
                                                       {% endif %}
                                                      
                                                        </a>
                                                      
                                                     
                                                    </h4>
                                                </div>
                                                <div id="collapse{{ forloop.counter }}" class="collapse" data-parent="#accordion" style="">
                                                    <div class="card-body">
                                               
                                                      <div class="row" style="margin-bottom: 3%;">
                        

                                                       {% if entregavel.status == '2' %}
                                                       <div class="col-lg-3 col-12">
                                                          <button onclick="enviaAprovacao('{{entregavel.id}}',4)" type="button" class="btn btn-block btn-dark"><i class="bi bi-check2-circle"></i> Marcar como Recebido</button>
                                                        </div>

                                                        <div class="col-lg-3 col-12">
                                                            <button onclick="devolveComunicacao('{{entregavel.id}}',4)" type="button" class="btn btn-block btn-dark"><i class="bi bi-arrow-counterclockwise"></i> Devolver p/ Correções</button>
                                                        </div>

                                                        {% endif %}
                                                        
                                                        {% if entregavel.status == '2' or entregavel.status == '4' %} 
                                                        <div class="col-lg-3 col-12">
                                                          <button onclick="modalTarefa('{{entregavel.ultima_tarefa_id.id}}')" type="button" class="btn btn-block btn-dark"><i class="bi bi-eye-fill"></i> Visualizar Entregas</button>
                                                      </div>
                                                      {% endif %}
                                                       
                                                        {% if entregavel.status == '1' %}
                                                          {% if '6' in permissoes.permissao %}
                                                          <div class="col-lg-3 col-12">
                                                              <button onclick="modalTarefas('{{entregavel.id}}','{{ forloop.counter }}')" type="button" class="btn btn-block btn-dark"><i class="bi bi-people-fill"></i> Designar Usuário</button>
                                                          </div>
                                                          {% endif %}

                                                        {% if '8' in permissoes.permissao %}
                                                          <div class="col-lg-3 col-12">
                                                              <button onclick="enviaAprovacao('{{entregavel.id}}',2)" type="button" class="btn btn-block btn-dark"><i class="bi bi-send-plus"></i> Enviar p/ Solicitante</button>
                                                          </div>
                                                        {% endif %}

                                                        {% if '7' in permissoes.permissao %}
                                                          <div class="col-lg-3 col-12">
                                                            <button onclick="revisaoTask('{{entregavel.ultima_tarefa_id.id}}')" type="button" class="btn btn-block btn-dark"><i class="bi bi-card-text"></i> Solicitar Correção da Tarefa</button>
                                                          </div>
                                                        {% endif %}
                                                        
                                                        {%  elif  entregavel.status == '0' and not entregavel.tarefas_relacionadas or entregavel.status == '4' or entregavel.status == '3' %}
                                                       
                                                            {% if '6' in permissoes.permissao %}
                                                            <div class="col-lg-3 col-12">
                                                                <button onclick="modalTarefas('{{entregavel.id}}','{{ forloop.counter }}')" type="button" class="btn btn-block btn-dark"><i class="bi bi-people-fill"></i> Designar Usuário</button>
                                                            </div>
                                                            {% endif %}
                                                       
                                                        {% if entregavel.status == '0'  and not entregavel.tarefas_relacionadas%}
                                                            {% if '6' in permissoes.permissao %}
                                                              <div class="col-lg-3 col-12">
                                                                  <button onclick="negarEntregavel('{{entregavel.id}}',6)" type="button" class="btn btn-block btn-dark"><i class="bi bi-x-circle-fill"></i> Negar Entregável</button>
                                                              </div>

                                                            <div class="col-lg-3 col-12">
                                                                <button onclick="negarEntregavel('{{entregavel.id}}',5)" type="button" class="btn btn-block btn-dark"> <i class="bi bi-arrow-return-left"></i> Devolver Entregável</button>
                                                            </div>
                                                  
                                                            {% endif %}

                                                        {% endif %}
                                                       
                                                        {% endif %}
                                                        
                                                        {% if entregavel.status == '5' %}
                                                        <div class="col-lg-3 col-12">
                                                          <button onclick="reenviarEntregavel('{{entregavel.id}}')" type="button" class="btn btn-block btn-dark"><i class="bi bi-shuffle"></i> Reenviar Entregável</button>
                                                      </div>
                                                        {% endif %}

                                                         {% if entregavel.status == '3' or '11' in permissoes.permissao %}
                                                        <div class="col-lg-3 col-12">
                                                          <button onclick="editarEntregavelModal('{{entregavel.id}}')" type="button" class="btn btn-block btn-dark"> <i class="bi bi-pencil-square"></i> Editar Entregável</button>
                                                      </div>
                                                      
                                                        {% endif %}

                                                      </div>
                                           
                                                  

                                                        <div class="row">
                                                        <div class="col-lg-2 col-12">
                                                          <div class="form-group">
                                                              <label>Tipo do Entregável:</label>
                                                              <div class="input-group">
                                                                {% if entregavel.get_tipoentregavel_display %}
                                                                {{entregavel.get_tipoentregavel_display}}
                                                                {% else %}
                                                                Não Informado
                                                                {% endif %}
                                                                
                                                            
                                                              </div>
                                                              <!-- /.input group -->
                                                          </div>
                                                        </div>
                                                        
                                                        <div class="col-lg-2 col-12">
                                                          <div class="form-group">
                                                              <label>Categoria do Produto:</label>
                                                              <div class="input-group">
                                                                {% if entregavel.tipo_produto != 0 %}
                                                                {{entregavel.get_tipoproduto_display}}
                                                                {% else %}
                                                                Não Informado
                                                                {% endif %}
                                                                
                                                            
                                                              </div>
                                                              <!-- /.input group -->
                                                          </div>
                                                        </div>
                    
                                                        <div class="col-lg-2 col-12">
                                                          <div class="form-group">
                                                              <label>Tipo do Produto:</label>
                                                              <div class="input-group">
                                                                {% if entregavel.categoria_produto %}
                                                                {{entregavel.categoria_produto}}
                                                                {% else %}
                                                                Não Informado
                                                                {% endif %}
                                                                
                                                            
                                                              </div>
                                                              <!-- /.input group -->
                                                          </div>
                                                        </div>
                    
                                                        <div class="col-lg-2 col-12">
                                                          <div class="form-group">
                                                              <label>Data da Solicitação:</label>
                                                              <div class="input-group">
                                                                {% if entregavel.data_solicitacao %}
                                                                {{entregavel.data_solicitacao|date:'d/m/Y'}}
                                                                {% else %}
                                                                Não Informado
                                                                {% endif %}
                                                                
                                                            
                                                              </div>
                                                              <!-- /.input group -->
                                                          </div>
                                                        </div>
                                                        <div class="col-lg-4 col-12">
                                                          <div class="form-group">
                                                              <label>Solicitante:</label>
                                                              <div class="input-group">
                                                                {% if entregavel.criado_por %}
                                                                {{entregavel.criado_por.first_name}}
                                                                {% else %}
                                                                Não Informado
                                                                {% endif %}
                                                                
                                                            
                                                              </div>
                                                              <!-- /.input group -->
                                                          </div>
                                                        </div>
                    
                                                     
                    
                                                       
                                                        {% if entregavel.descricao_audio_visual %}
                                                        <div class="col-12 col-sm-12 col-md-12">
                                                          <div class="card" style="width: 100%;">
                                                              <div class="card-header" style="background-color: #fafafa;">
                                                                <label for="">Descrição Audiovisual</label>
                                                                
                                                              </div>
                                                                
                                                              <div class="card-body">
                                                               <div class="row">
                                                                {% if entregavel.descricao_audio_visual %}
                                                                <span>{{entregavel.descricao_audio_visual|safe}}</span>
                                                                {% else %}
                                                                Sem descrições
                                                                {% endif %}
                                                               </div>
                                                              </div>
                                                          </div>
                                                        </div>
                    
                                                       
                                                        {% endif %}
                    
                                                        {% if entregavel.observacao %}
                                                        <div class="col-12 col-sm-12 col-md-12">
                                                          <div class="card" style="width: 100%;">
                                                              <div class="card-header" style="background-color: #fafafa;">
                                                                <label for="">Observações Gerais</label>
                                                                
                                                              </div>
                                                                
                                                              <div class="card-body">
                                                               <div class="row">
                                                                {% if entregavel.observacao %}
                                                                <span>{{entregavel.observacao|safe|linebreaksbr }}</span>
                                                                {% else %}
                                                                Sem observações
                                                                {% endif %}
                                                               </div>
                                                              </div>
                                                          </div>
                                                        </div>
                    
                                                       
                                                        {% endif %}
                                                        
                                                        {% if entregavel.arquivos %}
                                                        <div class="col-12 col-sm-12 col-md-12" >
                                                          <div class="card" style="width: 100%;">
                                                              <div class="card-header" style="background-color: #fafafa;">
                                                                <label for="">Arquivos</label>
                                                             
                                                              </div>
                                                                
                                                              <div class="card-body" id="gerenciador_de_arquivos_entregaveis_{{entregavel.id}}">
                                                               <div class="row">
                                                                {% for arquivo in entregavel.arquivos %}
                                                                <a href="{{arquivo}}" class="btn btn-app">
                                                                  <i class="fas fa-file"></i> {{ arquivo|cut:"/media/" }}
                                                                </a>
                                                                {% endfor %}
                                                               </div>
                                                              </div>
                                                          </div>
                                                        </div>
                                                        {% endif %}
                                                       
                                                        {% if entregavel.exemplo_arte %}
                                                        <div class="col-12 col-sm-12 col-md-12">
                                                          <div class="card" style="width: 100%;">
                                                              <div class="card-header" style="background-color: #fafafa;">
                                                                <label for="">Exemplos de Artes</label>
                                                                
                                                              </div>
                                                                
                                                              <div class="card-body">
                                                               <div class="row">
                                                                <div class="col-sm-2">
                                                                  {% if '.jpg' in entregavel.exemplo_arte or '.png' in entregavel.exemplo_arte or '.jpeg' in entregavel.exemplo_arte %}
                                                                  <a href="{{entregavel.exemplo_arte}}" data-toggle="lightbox" data-title="Exemplo de Arte" data-gallery="gallery">
                                                                    <img src="{{entregavel.exemplo_arte}}" class="img-fluid mb-2" alt="white sample"/>
                                                                  </a>
                                                                  
                                                                  {% else %}
                                                                  <a href="{{entregavel.exemplo_arte}}" class="btn btn-app">
                                                                    <i class="fas fa-file"></i> Download
                                                                  </a>

                                                                  
                                                                  {% endif %}
                    
                                                                </div>
                                                               </div>
                    
                                                              </div>
                                                          </div>
                                                        </div>
                                                        {% endif %}
                                                        
                                                        {% if entregavel.tarefas_relacionadas and '3' in permissoes.permissao %}
                                                        <div class="col-12 col-sm-12 col-md-12">
                                                          <div class="card" style="width: 100%;">
                                                              <div class="card-header" style="background-color: #fafafa;">
                                                                <label for="">Tarefas Designadas</label>
                                                                
                                                              </div>
                                                                
                                                              <div class="card-body">
                                                               <div class="row">
                                                                <table style="margin-top: 10px;">
                                                                  <thead>
                                                                    <tr>
                                                                      <th>#</th>
                                                                      <th>Data da Solicitação</th>
                                                                      <th>Título</th>
                                                                      <th>Prazo de Entrega</th>
                                                                      <th>Data da Entrega</th>
                                                                      <th>Usuário Designado</th>
                                                                      <th>Prioridade</th>
                                                                      <th>Status</th>
                                                                     
                                              
                                                                      
                                                                    </tr>
                                                                  </thead>
                                                                  <tbody >
                                                          
                                                                
                                                                    {% for tarefa in entregavel.tarefas_relacionadas  %}
                                                                      <tr  onclick="modalTarefa('{{tarefa.id}}')">
                                                
                                                                       <td>#{{tarefa.id}}</td>
                                                                       <td>{{tarefa.data_tarefa|date:'d/m/Y'}}</td>
                                                                       <td>{{tarefa.titulo_tarefa}}</td>
                                                                       <td>{{tarefa.prazo_entrega|date:'d/m/Y'}}</td>
                                                                       <td>{% if tarefa.data_entrega %} {{tarefa.data_entrega|date:'d/m/Y'}} {%else%} Aguardando Entrega {% endif %}</td>
                                                                       <td>{{tarefa.usuario.first_name}}</td>
                                                                       <td>{% if tarefa.prioridade == 1 %}   <span class="badge bg-primary" style="padding: 5px; width: 100%;"> {{tarefa.get_prioridade_display}}</span> {% else %} <span class="badge bg-danger" style="padding: 5px; width: 100%;"> {{tarefa.get_prioridade_display}}</span>{% endif %}</td>
                                                                       
                                                                       <td>
                                                                        {% if tarefa.status == 0 %}
                                                                        <span class="badge bg-warning" style="padding: 5px; width: 100%;"> {{tarefa.get_status_display}}</span>

                                                                          {% elif tarefa.status == 1 %}
                                                                          <span class="badge bg-warning" style="padding: 5px; width: 100%;"> {{tarefa.get_status_display}}</span>
                                                                         
                                                                          {% elif tarefa.status == 2 %}
                                                                          <span class="badge bg-danger" style="padding: 5px; width: 100%;"> {{tarefa.get_status_display}}</span>

                                                                          {% elif tarefa.status == 3 %}
                                                                          <span onclick="editarEntregavel('{{entregavel.id}}')" class="badge bg-success" style="padding: 5px; width: 100%;"> {{tarefa.get_status_display}}</span>
                                                                          {% elif tarefa.status == 4 %}
                                                                          <span class="badge bg-secondary style="padding: 5px; width: 100%;"> {{tarefa.get_status_display}}</span>
                                                                          {% endif %}
                                                                       </td>
                    
                                                                 
                                                                      </tr>
                                                              
                                                                    {% endfor %}
                                                                  </tbody>
                                                                  
                                                                </table>
                                                               </div>
                                                              </div>
                                                          </div>
                                                        </div>
                                                        {% endif %}
                                                        {% if entregavel.motivo_revisao and entregavel.status != '4' %}
                                                        <div class="col-12 col-sm-12 col-md-12">
                                                          <div class="alert alert-danger alert-dismissible">
                            
                                                            <h5><i class="bi bi-arrow-repeat"></i> {% if entregavel.status == '6' %} Entregável Negado! {% else %} Entregável Devolvido!{% endif %}</h5>
                                                             <span> {{entregavel.motivo_revisao|safe}}</span>
                                                          </div>
                                                        </div>
                                                      {% endif %}
                                                      </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endfor %}
                    
                                 </div>
                                </div>
                            </div>
                          </div>

                         
                         </div>
                        </div>
                        
                                
            
                        </div>
                          
                  </div>
                 

              </div>
              <br>
    
              
              
              <br><br><br>
              <!-- /.input group -->
            </div>
            
        
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
        <!-- /.card-body -->
      </div>

    </div><!-- /.container-fluid -->
    
  </section>

<!-- Full screen modal -->
<div class="modal fade modal-fullscreen-xl" id="modal-fullscreen-xl"  role="dialog" aria-hidden="true">
  <div class="modal-dialog-full" role="document">
    <div class="modal-content-full">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body-full">
      teste
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="revisaoTask"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="TitleEdit">Solicitar Revisão de Tarefa</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
     
      <div class="modal-body">
        <div class="row">
        
      <input style="display: none;" type="text" value="" id="task_id"  class="form-control" name="task_id">


      <div class="col-12 col-sm-12 col-md-12">
        <div class="form-group">
        <label>Novo Prazo de Entrega:</label>

        <div class="input-group">
          
            <input type="date" id="novo_prazo_entrega"   class="form-control" name="novo_prazo_entrega">
        </div>
        <!-- /.input group -->
        </div>
      </div>
      
     

      <div class="col-12 col-sm-12 col-md-12">

          <div class="card card-dark card-outline">
            <div class="card-header">
              <h3 class="card-title">Descrição da Tarefa:</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
            
              <div class="form-group">
                  <textarea  id="nova_descricao_tarefa" name="nova_descricao_tarefa" class="form-control summernote" style="height: 300px"></textarea>
              </div>
            
            </div>
            <!-- /.card-body -->
          
          </div>

      </div>

      </div>
    </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button"n onclick="revisionarTask()" class="btn btn-primary">Solicitar Revisão</button>
      </div>
 
    </div>
  </div>
</div>

<div class="modal  fade" id="exampleModalCenter"  aria-labelledby="exampleModalCenterTitle" style="display: none;" aria-hidden="true">
  <form id="formTarefas" method="POST"  enctype="multipart/form-data">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
        <button type="button" class="close" onclick="fecharModal('exampleModalCenter')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>This is a vertically centered modal.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" onclick="fecharModal('exampleModalCenter')">Fechar</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
  </form>
</div>

<div class="modal fade" id="modalEditTask"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="TitleEdit">Designar Usuário</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
     
      <div class="modal-body">
        <div class="row">
        <div class="col-12 col-sm-12 col-md-12">
        <div class="form-group">
        <label>Título da Tarefa:</label>
      
        <div class="input-group">
          
            <input type="text" value="" id="tituloTarefa_edit"  class="form-control" name="tituloTarefa">
            <input style="display: none;" type="text" value="" id="id_entregavel"  class="form-control" name="id_entregavel">
            <input style="display: none;" type="text" value="" id="num_tbl"  class="form-control" name="num_tbl">
        </div>
        <!-- /.input group -->
        </div>
      </div>


      <input style="display: none;" type="text" value="" id="entregavel_id"  class="form-control" name="entregavel_id">

      <div class="col-12 col-sm-12 col-md-4">
        <div class="form-group">
        <label>Designar Usuário:</label>
      
        <div class="input-group">

            <select style="width: 100%;"  class="form-control select2" id="designar_usuario_edit" name="designar_usuario_edit" required>
                {% for usuario in usuarios %}
                 <option value="{{usuario.id}}">{{usuario.first_name}}</option>
                {% endfor %}
              </select>
        </div>
        <!-- /.input group -->
        </div>
      </div>

      <div class="col-12 col-sm-12 col-md-4">
        <div class="form-group">
        <label>Prioridade:</label>
      
        <div class="input-group">
          
            <select  class="form-control" id="prioridade_edit" name="prioridade_edit">
                <option selected value="1">Normal</option>
                <option value="2">Prioridade</option>
              </select>
        </div>
        <!-- /.input group -->
        </div>
      </div>

      <div class="col-12 col-sm-12 col-md-4">
        <div class="form-group">
        <label>Prazo para Entrega:</label>

        <div class="input-group">
          
            <input type="date" id="prazo_entrega_edit"   class="form-control" name="prazo_entrega_edit">
        </div>
        <!-- /.input group -->
        </div>
      </div>
      
     

      <div class="col-12 col-sm-12 col-md-12">
        <div class="col-md-12">
          <div class="card card-dark card-outline">
            <div class="card-header">
              <h3 class="card-title">Descrição da Tarefa:</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
            
              <div class="form-group">
                  <textarea  id="descricao_tarefa_edit" name="descricao_tarefa_edit" class="form-control summernote" style="height: 300px"></textarea>
              </div>
            
            </div>
            <!-- /.card-body -->
          
          </div>
          <!-- /.card -->
        </div>
      </div>

      </div>
    </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button" id="designUser" onclick="designarUsuario()" class="btn btn-primary">Designar Usuário</button>
      </div>
 
    </div>
  </div>
</div>

<div class="modal fade" id="devolverComunicacao"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="TitleEdit">Devolver Entregável a Comunicação</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
     
      <div class="modal-body">
        <div class="row">
        
      <input style="display: none;" type="text" value="" id="d_entregavel_id"  class="form-control" name="d_entregavel_id">



      <div class="col-12 col-sm-12 col-md-12">

          <div class="card card-dark card-outline">
            <div class="card-header">
              <h3 class="card-title">Motivo da Devolução:</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
            
              <div class="form-group">
                  <textarea  id="motivo_devolucao" name="motivo_devolucao" class="form-control summernote" style="height: 300px"></textarea>
              </div>
            
            </div>
            <!-- /.card-body -->
          
          </div>

      </div>

      </div>
    </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button"n onclick="devolverEntregavel()" class="btn btn-primary">Devolver</button>
      </div>
 
    </div>
  </div>
</div>

<div class="modal fade" id="motivoNegado"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="title_negative">Motivo da Negativa</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
     
      <div class="modal-body">
        <div class="row">
        
      <input style="display: none;" type="text" value="" id="entregavelId_negativa"  class="form-control" name="entregavelId_negativa">
      <input style="display: none;" type="text" value="" id="status_modal"  class="form-control" name="status_modal">

      <div class="col-12 col-sm-12 col-md-12">

          <div class="card card-dark card-outline">
            <div class="card-header">
              <h3 class="card-title" id="descricao_negative">Descreva sobre a negativa:</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
            
              <div class="form-group">
                  <textarea  id="negativa_descricao" name="negativa_descricao" class="form-control summernote" style="height: 300px"></textarea>
              </div>
            
            </div>
            <!-- /.card-body -->
          
          </div>

      </div>

      </div>
    </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button"n onclick="negativarEntregavel()" class="btn btn-primary">Negar / Devolver</button>
      </div>
 
    </div>
  </div>
</div>

<div class="modal fade" id="editarEntregavelModal" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  
</div>

<div class="modal fade" id="addEntregavelModal" >
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="title_negative">Adicionar Entregável</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form id="adiciona_entregavel" method="POST"  enctype="multipart/form-data">
      <div class="modal-body">
        <div class="row">
        
      <input style="display: none;" type="text" value="{{solicitacao.id}}" id="solicitacaoId"  class="form-control" name="solicitacaoId">


      <div class="card-body">
        <div class="form-group" id="save_the_date_container" >
            <div class="row">
              <div class="col-12 col-sm-12 col-md-12">
                <div class="card" style="width: 100%;">
                    <div class="card-header" style="background-color: #fafafa;">
                      <label>Novo Entregável</label>
                           
                      
                    </div>
                      
                    <div class="card-body">
                      <div class="form-group" id="save_the_date_container" >
                        <div class="row">
                         


                    <div class="col-12 col-sm-12 col-md-6" id="show_exemple_arte_save_the_date_space" style="display: none;">
                      
                    </div>

                    <div class="col-12 col-sm-12 col-md-6" id="show_exemple_arte_save_the_date" style="display: none;">
                      <div class="form-group">
                      <label>Exemplo de Arte:</label>
      
                      <div class="input-group">
                          <div class="input-group-prepend">
                          <span class="input-group-text"><i style="color: #000000" class="fa fa-file"></i></span>
                          </div>
                          <input type="file" name="exemploarte_save_the_date" id="exemploarte_save_the_date" class="form-control" >
                      </div>
                      <!-- /.input group -->
                      </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-6">
                      <div class="form-group">
                      <label>Categoria do Produto:</label>
      
                      <div class="input-group">
                          <div class="input-group-prepend">
                          <span class="input-group-text"><i style="color: #000000" class="fa fa-file"></i></span>
                          </div>
                          <select  class="form-control" id="tipoproduto_save_the_date" name="tipoproduto_save_the_date">
                            <option value="">Escolha a Categoria</option>
                            <option value="1" {% if entregavel.tipo_produto == 1 %} selected {% endif %}>Digital</option>
                            <option value="2" {% if entregavel.tipo_produto == 2 %} selected {% endif %}>Impresso</option>
                            <option value="3" {% if entregavel.tipo_produto == 3 %} selected {% endif %}>Audiovisual</option>
                            <option value="4" {% if entregavel.tipo_produto == 4 %} selected {% endif %}>Cobertura de Evento</option>
                            <option value="5" {% if entregavel.tipo_produto == 5 %} selected {% endif %}>Produção (Orçamentos e Execuções)</option>
                            <option value="6" {% if entregavel.tipo_produto == 6 %} selected {% endif %}>Identidade Visual</option>
                            <option value="7" {% if entregavel.tipo_produto == 7 %} selected {% endif %}>Planejamento</option>
                            <option value="8" {% if entregavel.tipo_produto == 8 %} selected {% endif %}>Brindes</option>
                            <option value="9" {% if entregavel.tipo_produto == 9 %} selected {% endif %}>Comunicação Visual</option>
                          </select>
                      </div>
                      <!-- /.input group -->
                      </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-6" id="categoria_field_save_the_date">
                    <div class="form-group">
                    <label>Tipo do Produto:</label>
    
                    <div class="input-group">
                        <div class="input-group-prepend">
                        <span class="input-group-text"><i style="color: #000000" class="fa fa-file"></i></span>
                        </div>
                        <select  class="form-control" id="categoriaproduto_save_the_date" name="categoriaproduto_save_the_date">
                       
                        </select>
                    </div>
                    <!-- /.input group -->
                    </div>
                    </div>

                    <div class="col-12 col-sm-12 col-md-6" id="outro_field" style="display: none;">
                      <div class="form-group">
                      <label>Título (Outros):</label>
      
                      <div class="input-group">
                        <div class="input-group-prepend">
                        <span class="input-group-text"><i style="color: #000000" class="fa fa-file"></i></span>
                        </div>
                        <input type="text" value="" id="outro_entregavel"  class="form-control" name="outro_entregavel">
                      </div>
           
                      </div>
                    </div>
                    <div class="col-12 col-sm-12 col-md-6">
                      <div class="form-group">
                      <label>Tipo do Entregável:</label>
      
                      <div class="input-group">
                          <div class="input-group-prepend">
                          <span class="input-group-text"><i style="color: #000000" class="fa fa-file"></i></span>
                          </div>
                          <select  class="form-control" id="tipo_entregavel" name="tipo_entregavel">
                            <option value="1" {% if entregavel.tipo_entregavel == 1 %} selected {% endif %}>Save The Date</option>
                            <option value="2" {% if entregavel.tipo_entregavel == 2 %} selected {% endif %}>Divulgação</option>
                            <option value="3" {% if entregavel.tipo_entregavel == 3 %} selected {% endif %}>Programação</option>
                            <option value="4" {% if entregavel.tipo_entregavel == 4 %} selected {% endif %}>Stand</option>
                          </select>
                      </div>
                      <!-- /.input group -->
                      </div>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12" id="descricao_field_save_the_date" style="display: none;">
                  <div class="col-md-12">
                    <div class="card card-dark card-outline">
                      <div class="card-header">
                        <h3 class="card-title">Descrição Produção (Orçamentos e Execuções)</h3>
                      </div>
                      <!-- /.card-header -->
                      <div class="card-body">
                      
                        <div class="form-group">
                            <textarea name="audio_visual" id="audio_visual" class="form-control summernote" style="height: 300px"></textarea>
                        </div>
                      
                      </div>
                      <!-- /.card-body -->
                    
                    </div>
                    <!-- /.card -->
                  </div>
                    </div>

                 

                    <!-- <div class="col-12 col-sm-12 col-md-12" id="observacao_field_save_the_date">
                      <div class="col-md-12">
                        <div class="card card-dark card-outline">
                          <div class="card-header">
                            <h3 class="card-title">Observações</h3>
                          </div>
                       
                          <div class="card-body">
                          
                            <div class="form-group">
                                <textarea name="obs_save_the_date" id="obs_save_the_date" class="form-control summernote" style="height: 300px"></textarea>
                            </div>
                          
                          </div>

                        
                        </div>
                       
                      </div>
                    </div> -->

                                </div>

                    </div>
                      
                    </div>
              </div>
              </div>
            </div>

      </div>
        
      </div>

      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
      <button type="button"n onclick="adicionaEntregavelModal()" class="btn btn-primary">Adicionar Entregável</button>
    </div>
  </form>
  
 
    </div>
  </div>

</div>

<div class="modal fade" id="editarArquivos"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="title_negative">Editar Arquivos</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

     <form id="formEditFiles">
      <div class="modal-body">
        <div class="row">
        
      <input style="display: none;" type="text" value="{{solicitacao.id}}" id="solicitacaoID"  class="form-control" name="solicitacaoID">


      <div class="card-body">
        <div class="form-group" id="save_the_date_container" >
            <div class="row">
                      
            <div class="card" style="width: 100%;">
              <div class="card-header" style="background-color: #fafafa;">
                  <h3 class="card-title" style="color:#000000; font-weight: bold;"><i class="nav-icon fa fa-file"></i> {{solicitacao.evento_json.titulo_evento}}</h3>
                  
              </div>
      
              <div class="card-body">
                <div class="row">


              {% if solicitacao.arquivos %}
              <div class="col-12 col-sm-12 col-md-12">
                <div class="card" style="width: 100%;">
                    <div class="card-header" style="background-color: #fafafa;">
                      <label for="">Arquivos</label>
                                         </div>
                      
                    <div class="card-body gerenciador_de_arquivos_solicitacao">
                     <div class="row">
                      
                      {% for arquivo in arquivos %}
                      <div class="col-3 col-sm-3 col-md-3">
                        <a href="{{ arquivo }}" class="btn btn-block btn-outline-secondary" style="width: 100%; font-size: 15px;">
                            
                            <i class="fas fa-file"></i><br>{{ arquivo|cut:"/media/" }}
                        </a>
                        <a style="width: 100%; font-size: 10px; margin-bottom: 10px;"  class="btn btn-block bg-gradient-danger btn-xs btnRemover" onclick="removeFiles('{{solicitacao.id}}','{{ arquivo|cut:"/media/" }}','solicitacao','gerenciador_de_arquivos_solicitacao')"> <i class="fas fa-trash"></i> Remover</a>
                    </div>
                   
                      {% endfor %}
                     </div>
                     
                    </div>
                    
                </div>
              </div>
              {% endif %}
              
                        </div>
                        <div class="card" style="width: 100%;">
                          <div class="card-header" style="background-color: #fafafa;">
                              <h3 class="card-title" style="color:#000000; font-weight: bold;"><i class="nav-icon fa fa-file"></i> Adicionar Arquivos</h3>
                              
                          </div>
                   
                              <div class="card-body">
                                <div class="row d-flex align-items-center justify-content-center">
                                  <div class="col-12 col-sm-12 col-md-12" style="text-align: center;">
                                      <iconify-icon icon="pepicons-pop:file" width="60" style="color: #001b91;"></iconify-icon>
                                  </div>
                                  <div class="col-12 col-sm-12 col-md-12" style="text-align: center;">
                                      <label for="fileInput" class="btn btn-primary">
                                        <iconify-icon icon="pepicons-pop:file"></iconify-icon> ESCOLHER ARQUIVOS
                                      </label>
                                  </div>
                                      <input style="width: 100%;" type="file" id="fileInput"  name="fileInput" class="d-none" multiple onchange="showSelectedFiles()">
                                      <div class="row" id="fileDisplay"></div>
                            
                              </div>
                              
                              </div>
                        </div>
              </div>
              </div>
            </div>

      </div>
        
      </div>

      </div>
    </div>
</form>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
        <button type="button"n onclick="AlteraFiles('{{solicitacao.id}}','','solicitacao','gerenciador_de_arquivos_solicitacao')" class="btn btn-primary">Alterar Arquivos</button>
      </div>
 
    </div>
  </div>
</div>


<div class="modal fade" id="editarSolicitacao"  role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  
</div>
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

function hideRemove(tipo){
  if (tipo == 'open'){
    console.log('entrou no open')
    $(".btnRemover").css("display", "block");
  }else{
    $(".btnRemover").css("display", "none");
  }

  
}

$('#editarArquivos').on('shown.bs.modal', function () {
  // Função a ser executada quando a modal é fechada
  hideRemove('open');
});

$('#editarArquivos').on('hidden.bs.modal', function () {
  // Função a ser executada quando a modal é fechada
  hideRemove('close');
});

function AlteraFiles(solicitacao,file,tipo,subs){
  var solicitacaoID = solicitacao
  var arquivo = file
  var tipo_dados = tipo

  const url = "/ajax/altera-arquivos";
  var formData = new FormData(formEditFiles);

  var arquivos = document.getElementById('fileInput');

  if (arquivos) {
    for (var i = 0; i < arquivos.files.length; i++) {
      formData.append('files[]', arquivos.files[i]);
    }
  }

  formData.append('solicitacao',solicitacao);
  formData.append('arquivo',arquivo);
  formData.append('tipo',tipo_dados);
  console.log(subs)

  Swal.fire({
    title: 'Tem certeza?',
    text: 'Deseja realmente alterar os arquivos?',
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#d33',
    cancelButtonColor: '#3085d6',
    confirmButtonText: 'Sim',
    cancelButtonText: 'Não'
  }).then((result) => {
    if (result.isConfirmed) {
      var XCSRFToken = '{{ csrf_token }}';

      $.ajax({
        url: url,
        type: "post",
        data: formData,
        headers: { "X-CSRFToken":  XCSRFToken },
        processData: false, // Evitar que o jQuery processe o FormData
        contentType: false, // Evitar que o jQuery defina o Content-Type
        success: function (data) {
          $("."+subs).html(data);
          document.getElementById('fileDisplay').innerHTML = '';
          document.getElementById('fileInput').value = '';
          Swal.fire({
            icon: 'success',
            title: 'Arquivos Editados!',
            text: 'Os arquivos foram editados com sucesso!'
          }).then((result) => {
            if (result.isConfirmed) {
             
            }
          });
        },
        error: function (data) {
          if (data.responseJSON && data.responseJSON.error_message) {
            Swal.fire({
              icon: 'error',
              title: 'Ops!',
              text: data.responseJSON.error_message
            });
          }
        }
      });
    }
  });
}



function removeFiles(solicitacao,file,tipo,subs){
  var solicitacaoID = solicitacao
  var arquivo = file
  var tipo_dados = tipo
  console.log(solicitacao,arquivo,tipo_dados,subs)
  Swal.fire({
        title: 'Tem certeza?',
        text: 'Deseja realmente excluir este arquivo? Ao excluir ele será deletado definitivamente do sistema, não podendo ser recuperado',
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Sim',
        cancelButtonText: 'Não'
    }).then((result) => {
        if (result.isConfirmed) {
            var XCSRFToken = '{{ csrf_token }}';
            const url = "/ajax/delete-file";
            
            // Use a função $.ajax do jQuery para fazer a solicitação AJAX
            $.ajax({
                url: url,
                type: "POST",
                data: {'solicitacao':solicitacaoID,'arquivo':arquivo,'tipo':tipo_dados},
                headers: { "X-CSRFToken": XCSRFToken },
                
                success: function (data) {
                  console.log(subs)
                  $("."+subs).html(data);
                    Swal.fire({
                        icon: 'success',
                        title: 'Arquivo Deletado!',
                        text: "Arquivo foi deletado com sucesso!"
                    }).then((result) => {
                        // Ação a ser realizada após o botão "OK" ser clicado
                        if (result.isConfirmed) {
                           
                           
                        }
                    });
                },
                error: function (data) {
                    if (data.responseJSON && data.responseJSON.error_message) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Ops!',
                            text: data.responseJSON.error_message
                        });
                    }
                }
            });
        }
    });
}

function showSelectedFiles() {
            const fileInput = document.getElementById('fileInput');
            const fileDisplay = document.getElementById('fileDisplay');

            // Limpa a exibição de arquivos anteriores
            fileDisplay.innerHTML = "";

            const files = fileInput.files;
            for (let i = 0; i < files.length; i++) {
                const fileName = files[i].name;
                const listItem = document.createElement('div');
                listItem.className = "col-auto";
                listItem.innerHTML = `
                    <i class="file-icon far fa-file"></i>
                    ${fileName}
                    <i class="remove-button fas fa-times-circle" onclick="removeFile(${i})"></i>
                `;
                fileDisplay.appendChild(listItem);
            }
        }

function removeFile(index) {
    const fileInput = document.getElementById('fileInput');
    const files = Array.from(fileInput.files);
    files.splice(index, 1);

    // Cria um novo input de arquivo e copia os arquivos restantes
    const newFileInput = document.createElement('input');
    newFileInput.type = 'file';
    newFileInput.id = 'fileInput';
    newFileInput.multiple = true;
    newFileInput.style.display = 'none';
    newFileInput.addEventListener('change', showSelectedFiles);

    const dataTransfer = new DataTransfer();
    files.forEach(file => dataTransfer.items.add(file));
    newFileInput.files = dataTransfer.files;

    // Substitui o input de arquivo anterior
    fileInput.parentNode.replaceChild(newFileInput, fileInput);

    // Atualize a lista de arquivos selecionados
    showSelectedFiles();
}

function modalTarefa(tarefaId){

  url = '/ajax/view-task'
  var urlAtual = window.location.href
  $.ajax({
  url: url,
  data: {'tarefaId':tarefaId,'urlAtual':urlAtual},

  success: function(data) {

    $("#exampleModalCenter").html(data);
    $("#exampleModalCenter").modal('show')
  },
  error: function(xhr, status, error) {
    Swal.fire({
          icon: 'error',
          title: 'Ops!',
          text: 'Não foi possível obter resultados!'
        });  $('.summernote').summernote();
  }
  });
  }
    
function designarUsuario(){
  btnDesignar = document.getElementById('designUser')
  btnDesignar.disabled = true;
    var titulo_tarefa = $("#tituloTarefa_edit").val()
    var usuario_designado = $("#designar_usuario_edit").val()
    console.log(usuario_designado)
    var prioridade = $("#prioridade_edit").val()
    var prazo_entrega = $("#prazo_entrega_edit").val()
    var descricao = $("#descricao_tarefa_edit").val()
    var entregavelId = $("#id_entregavel").val()
    var tbl = $("#num_tbl").val()

    var XCSRFToken = '{{ csrf_token }}';
    url = '/ajax/criar-tarefas'
    
    $.ajax({
        url: url,
        type: "post",
        data: {
            "titulo": titulo_tarefa,
            "usuario": usuario_designado,
            "prioridade": prioridade,
            "prazo_entrega": prazo_entrega,
            "descricao_tarefa": descricao,
            "idEntregavel": entregavelId
        },
        headers: { "X-CSRFToken": XCSRFToken },
        success: function (data) {
            Swal.fire({
                icon: 'success',
                title: 'Tarefa Criada!',
                text: "Tarefa criada e designada com sucesso!"
            }).then((result) => {
                // Ação a ser realizada após o botão "OK" ser clicado
                if (result.isConfirmed) {
                    // Redirecionar ou atualizar a página aqui
                    location.reload(); // Isso atualizará a página
                }
            });
        },
        error: function (data) {
            if (data.responseJSON && data.responseJSON.error_message) {
                Swal.fire({
                    icon: 'error',
                    title: 'Ops!',
                    text: data.responseJSON.error_message
                });
            }
        }
    });

}

function enviaAprovacao(idEntregavel,status){
    if (status ==  4){
      Swal.fire({
      title: 'Tem certeza?',
      text: 'Ao clicar em sim confirmo que a entrega foi realizada corretamente',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      confirmButtonText: 'Sim',
      cancelButtonText: 'Não'
    }).then((result) => {
      if (result.isConfirmed) {

        var XCSRFToken = '{{ csrf_token }}'
        const url = "/ajax/ajax-confirmar-entrega";
        $.ajax({
            
            url: url,
            type:"post",
            data: { 'idEntregavel':idEntregavel,'statusEntregavel':status},
            headers: { "X-CSRFToken":  XCSRFToken },
            success: function (data) {
                Swal.fire({
                    icon: 'success',
                    title: 'Entrega Realizada!',
                    text: "A entrega foi marcada como realizada!"
                }).then((result) => {
                    // Ação a ser realizada após o botão "OK" ser clicado
                    if (result.isConfirmed) {
                        // Redirecionar ou atualizar a página aqui
                        location.reload(); // Isso atualizará a página
                    }
                });
            },
            error: function (data) {
                if (data.responseJSON && data.responseJSON.error_message) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Ops!',
                        text: data.responseJSON.error_message
                    });
                }
            }
        });
      }
    });
    }else{
      Swal.fire({
      title: 'Tem certeza?',
      text: 'Ao clicar enviará o entregável para o solicitante aprovar!',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      confirmButtonText: 'Sim',
      cancelButtonText: 'Não'
    }).then((result) => {
      if (result.isConfirmed) {

        var XCSRFToken = '{{ csrf_token }}'
        const url = "/ajax/ajax-confirmar-entrega";
        $.ajax({
            
            url: url,
            type:"post",
            data: { 'idEntregavel':idEntregavel,'statusEntregavel':status},
            headers: { "X-CSRFToken":  XCSRFToken },
            success: function (data) {
                Swal.fire({
                    icon: 'success',
                    title: 'Entrega Realizada!',
                    text: "Entregável enviado para aprovação do solicitante!"
                }).then((result) => {
                    // Ação a ser realizada após o botão "OK" ser clicado
                    if (result.isConfirmed) {
                        // Redirecionar ou atualizar a página aqui
                        location.reload(); // Isso atualizará a página
                    }
                });
            },
            error: function (data) {
                if (data.responseJSON && data.responseJSON.error_message) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Ops!',
                        text: data.responseJSON.error_message
                    });
                }
            }
        });
      }
    });
  }
}
    
function modalTarefas(entregavelId,counter_loop){
        document.getElementById('id_entregavel').value = entregavelId
        document.getElementById('num_tbl').value = counter_loop

        url = '/ajax/get-task-ocupad'

        

        $("#modalEditTask").modal("show")
    }

function revisaoTask(idtask){
  document.getElementById("task_id").value = idtask
  $("#revisaoTask").modal('show')
}

function fecharModal(id){
  $("#"+id).modal('hide')

}

function revisionarTask(){
  prazo_entrega = $("#novo_prazo_entrega").val()
  nova_descricao_tarefa = $("#nova_descricao_tarefa").val()
  idTask = $("#task_id").val()

  Swal.fire({
      title: 'Tem certeza?',
      text: 'Ao confirmar enviará a tarefa para revisão ao usuário já designado',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      confirmButtonText: 'Sim',
      cancelButtonText: 'Não'
    }).then((result) => {
      if (result.isConfirmed) {

        var XCSRFToken = '{{ csrf_token }}'
        const url = "/ajax/ajax-revisao-task";
        $.ajax({
            
            url: url,
            type:"post",
            data: { 'idTask':idTask,'novo_prazo_entrega':prazo_entrega,"nova_descricao_tarefa":nova_descricao_tarefa},
            headers: { "X-CSRFToken":  XCSRFToken },
            success: function (data) {
                Swal.fire({
                    icon: 'success',
                    title: 'Tarefa em Revisão!',
                    text: "A terefa foi enviada para revisão!"
                }).then((result) => {
                    // Ação a ser realizada após o botão "OK" ser clicado
                    if (result.isConfirmed) {
                        // Redirecionar ou atualizar a página aqui
                        location.reload(); // Isso atualizará a página
                    }
                });
            },
            error: function (data) {
                if (data.responseJSON && data.responseJSON.error_message) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Ops!',
                        text: data.responseJSON.error_message
                    });
                }
            }
        });
      }
    });
}

function negarEntregavel(entregavelId,motivo){
  
  var titulo = document.querySelector(".modal-title#title_negative");
  var descricao = document.querySelector(".card-title#descricao_negative");


  if (motivo == 6){
    console.log('entrou 6')
    titulo.innerText = "Motivo da Negativa"
    descricao.innerText = "Descreva o motivo da negativa:"
    document.getElementById("status_modal").value = 1
  }else{
    console.log('entrou 5')
    titulo.innerText = "Motivo da Devolutiva"
    descricao.innerText = "Descreva o motivo da devolutiva:"
    document.getElementById("status_modal").value = 2
  }
  document.getElementById("entregavelId_negativa").value = entregavelId
 
  $("#motivoNegado").modal('show')
}

function negativarEntregavel(motivo){
  idEntregavel = $("#entregavelId_negativa").val()
  motivo = $("#negativa_descricao").val()
  tipo = $("#status_modal").val()
    if (tipo ==  '1'){
      Swal.fire({
        title: 'Tem certeza?',
        text: 'Ao negar o entregável ele não poderá mais ser reaberto',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Sim',
        cancelButtonText: 'Não'
      }).then((result) => {
        if (result.isConfirmed) {

          var XCSRFToken = '{{ csrf_token }}'
          const url = "/ajax/negar-entregavel";
          $.ajax({
              
              url: url,
              type:"post",
              data: { 'idEntregavel':idEntregavel,'negativa_descricao':motivo,'tipo':tipo},
              headers: { "X-CSRFToken":  XCSRFToken },
              success: function (data) {
                  Swal.fire({
                      icon: 'success',
                      title: 'Entregável Negado!',
                      text: "Entregável negado com sucesso!"
                  }).then((result) => {
                      // Ação a ser realizada após o botão "OK" ser clicado
                      if (result.isConfirmed) {
                          // Redirecionar ou atualizar a página aqui
                          location.reload(); // Isso atualizará a página
                      }
                  });
              },
              error: function (data) {
                  if (data.responseJSON && data.responseJSON.error_message) {
                      Swal.fire({
                          icon: 'error',
                          title: 'Ops!',
                          text: data.responseJSON.error_message
                      });
                  }
              }
          });
        }
      });
  }else{
    Swal.fire({
        title: 'Tem certeza?',
        text: 'Ao devolver o entregável o solicitante poderá editar os dados!',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Sim',
        cancelButtonText: 'Não'
      }).then((result) => {
        if (result.isConfirmed) {

          var XCSRFToken = '{{ csrf_token }}'
          const url = "/ajax/negar-entregavel";
          $.ajax({
              
              url: url,
              type:"post",
              data: { 'idEntregavel':idEntregavel,'negativa_descricao':motivo,'tipo':tipo},
              headers: { "X-CSRFToken":  XCSRFToken },
              success: function (data) {
                  Swal.fire({
                      icon: 'success',
                      title: 'Entregável Negado!',
                      text: "Entregável negado com sucesso!"
                  }).then((result) => {
                      // Ação a ser realizada após o botão "OK" ser clicado
                      if (result.isConfirmed) {
                          // Redirecionar ou atualizar a página aqui
                          location.reload(); // Isso atualizará a página
                      }
                  });
              },
              error: function (data) {
                  if (data.responseJSON && data.responseJSON.error_message) {
                      Swal.fire({
                          icon: 'error',
                          title: 'Ops!',
                          text: data.responseJSON.error_message
                      });
                  }
              }
          });
        }
      });
  }
 
}

function devolveComunicacao(idEntregavel){
  document.getElementById("d_entregavel_id").value = idEntregavel
  $("#devolverComunicacao").modal('show')
}

function devolverEntregavel(){
  motivo_devolucao = $("#motivo_devolucao").val()
  entregavelId = $("#d_entregavel_id").val()

  Swal.fire({
      title: 'Tem certeza?',
      text: 'Ao confirmar você irá devolver o entregável a comunicação',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      confirmButtonText: 'Sim',
      cancelButtonText: 'Não'
    }).then((result) => {
      if (result.isConfirmed) {

        var XCSRFToken = '{{ csrf_token }}'
        const url = "/ajax/ajax-devolver-entregavel";
        $.ajax({
            
            url: url,
            type:"post",
            data: { 'entregavelId':entregavelId,'motivo_devolucao':motivo_devolucao},
            headers: { "X-CSRFToken":  XCSRFToken },
            success: function (data) {
                Swal.fire({
                    icon: 'success',
                    title: 'Entregável Devolvido!',
                    text: "O entregável foi devolvido para correções"
                }).then((result) => {
                    // Ação a ser realizada após o botão "OK" ser clicado
                    if (result.isConfirmed) {
                        // Redirecionar ou atualizar a página aqui
                        location.reload(); // Isso atualizará a página
                    }
                });
            },
            error: function (data) {
                if (data.responseJSON && data.responseJSON.error_message) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Ops!',
                        text: data.responseJSON.error_message
                    });
                }
            }
        });
      }
    });
}

function editarEntregavelModal(entregavelId){
  url = '/ajax/alterar-entregavel'

  $.ajax({
  url: url,
  data: {'entregavelId':entregavelId},

  success: function(data) {

    $("#editarEntregavelModal").html(data);
    $("#editarEntregavelModal").modal('show')
  },
  error: function(xhr, status, error) {
    Swal.fire({
          icon: 'error',
          title: 'Ops!',
          text: 'Não foi possível obter resultados!'
        });
  }
  });
}

function editarSolicitacaoModal(solicitacaoid){
  url = '/ajax/alterar-solicitacao'

  $.ajax({
  url: url,
  data: {'solicitacaoId':solicitacaoid},

  success: function(data) {

    $("#editarSolicitacao").html(data);
    $("#editarSolicitacao").modal('show')
  },
  error: function(xhr, status, error) {
    Swal.fire({
          icon: 'error',
          title: 'Ops!',
          text: 'Não foi possível obter resultados!'
        });
  }
  });
}

function adicionaEntregavelModal(entregavelId){


    var form = document.getElementById("adiciona_entregavel");
    var formData = new FormData(form);
    var solicitacao = '{{solicitacao.id}}'
    formData.append('solicitacaoId',solicitacao)
    Swal.fire({
        title: 'Tem certeza?',
        text: 'Realmente deseja adicionar este entregável?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#d33',
        cancelButtonColor: '#3085d6',
        confirmButtonText: 'Sim',
        cancelButtonText: 'Não'
    }).then((result) => {
        if (result.isConfirmed) {
            var XCSRFToken = '{{ csrf_token }}';
            const url = "/ajax/add-entregaveis";
            
            // Use a função $.ajax do jQuery para fazer a solicitação AJAX
            $.ajax({
                url: url,
                type: "POST",
                data: formData,
                headers: { "X-CSRFToken": XCSRFToken },
                processData: false,  // Evita que o jQuery transforme os dados em uma string
                contentType: false,  // Evita que o jQuery defina o cabeçalho Content-Type
                success: function (data) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Entregável Adicionado!',
                        text: "Entregável adicionado com sucesso!"
                    }).then((result) => {
                        // Ação a ser realizada após o botão "OK" ser clicado
                        if (result.isConfirmed) {
                            // Redirecionar ou atualizar a página aqui
                            location.reload(); // Isso atualizará a página
                        }
                    });
                },
                error: function (data) {
                    if (data.responseJSON && data.responseJSON.error_message) {
                        Swal.fire({
                            icon: 'error',
                            title: 'Ops!',
                            text: data.responseJSON.error_message
                        });
                    }
                }
            });
        }
    });
}

function reenviarEntregavel(entregavelId){
  var XCSRFToken = '{{ csrf_token }}'
  const url = "/ajax/reenviar-entregavel";
  $.ajax({
      
      url: url,
      type:"post",
      data: { 'idEntregavel':entregavelId},
      headers: { "X-CSRFToken":  XCSRFToken },
      success: function (data) {
          Swal.fire({
              icon: 'success',
              title: 'Entregável Reenviado!',
              text: "Entregável reenviado com sucesso!"
          }).then((result) => {
              // Ação a ser realizada após o botão "OK" ser clicado
              if (result.isConfirmed) {
                  // Redirecionar ou atualizar a página aqui
                  location.reload(); // Isso atualizará a página
              }
          });
      },
      error: function (data) {
          if (data.responseJSON && data.responseJSON.error_message) {
              Swal.fire({
                  icon: 'error',
                  title: 'Ops!',
                  text: data.responseJSON.error_message
              });
          }
      }
  });
}

   
var categorias = {
    "1": ["Banner P/ Site", "Card P/ Instagram", "Card P/ Stories", "Planejamento", "Post", "Publicação", "Site","Outros"],
    "2": ["Adesivo", "Anúncio de jornal", "Banner", "Cartaz", "Outdoor", "Panfletos","Outros"],
    "3": ["Carro de som", "Filme para Reels", "Filme para Stories", "Filme para TV (duração)", "Spot de rádio/Streaming", "Tela para Comutador", "Videos para telas de TV","Outros"],
    "4": ["Feed", "Foto", "Jornalista", "Notícia para Site", "Reals", "Release", "Stories", "Vídeo","Outros"],
    "5": ["Produção (Orçamentos e Execuções)"],
    "6": ["Cartão de Visitas", "Envelope", "Iniforme", "Logo", "Manual de Marca", "Molesquine", "Papel Timbrado", "Pasta","Outros"],
    "7": ["BI", "Planejamento", "Plano de Mídia","Outros"],
    "8": ["Caderno", "Caderneta", "Camiseta", "Caneta", "Chaveiro", "Copo", "Mouse Pad", "Pasta", "Pen Drive", "Sacochila", "Sacola", "Squeeze","Outros"],
    "9": ["Adesivo", "Adesivo para Octanorm", "Adesivo para Superfícies", "Faixa", "Fachada", "Placa", "Placa de Identificação", "Testeira", "Totem", "Windflag","Outros"]

      // Adicione outras opções aqui
  };
  

  var tipoproduto_save_the_date = $("#tipoproduto_save_the_date");
  var categoriaproduto_save_the_date = $("#categoriaproduto_save_the_date");
  var outro_field = $("#outro_field");

  var categoria_field_save_the_date = $("#categoria_field_save_the_date");
  var descricao_field_save_the_date = $("#descricao_field_save_the_date");
  var descricao_save_the_date = $("#descricao_save_the_date");

  var pecas_save_the_date = $("#pecas_save_the_date");
  var show_exemple_arte_save_the_date = $("#show_exemple_arte_save_the_date");
  var show_exemple_arte_save_the_date_space = $("#show_exemple_arte_save_the_date_space");
      
  pecas_save_the_date.on("change", function() {
      var selectedValue = $(this).val();
      var campoArte = $('#exemploarte_save_the_date')
      if (selectedValue === "arte_existente") {
        show_exemple_arte_save_the_date.show();
        show_exemple_arte_save_the_date_space.show();
        
      } else {
        show_exemple_arte_save_the_date.hide();
        show_exemple_arte_save_the_date_space.hide();
        
      }
  });
  
  tipoproduto_save_the_date.on("change", function() {
        
    var selectedValue = $(this).val();
    console.log(selectedValue)
    if (selectedValue === "5") {
      categoria_field_save_the_date.hide();
      descricao_field_save_the_date.show();
      descricao_save_the_date.summernote('reset');
      var options = categorias[selectedValue] || [];

      categoriaproduto_save_the_date.empty();

      options.forEach(function(option) {
        categoriaproduto_save_the_date.append($("<option>", {
            value: option,
            text: option
        }));
      });
    }else{
      descricao_save_the_date.summernote('reset');
      var options = categorias[selectedValue] || [];

      categoriaproduto_save_the_date.empty();

      options.forEach(function(option) {
        categoriaproduto_save_the_date.append($("<option>", {
            value: option,
            text: option
        }));
      });
      categoria_field_save_the_date.show();
      descricao_field_save_the_date.hide();
    }

    
  });

  categoriaproduto_save_the_date.on("change", function() {
    var selectedValue = $(this).find(":selected").text();
    console.log(selectedValue)
    if(selectedValue == "Outros"){
      outro_field.show()

    }else{
      outro_field.hide()
    }
  });

</script>




  {% endblock %}
